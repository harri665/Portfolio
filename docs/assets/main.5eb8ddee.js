import"./style.7f2dd081.js";import{$,P as PerspectiveCamera,S as Scene,A as AmbientLight,D as DirectionalLight,R as RGBELoader,E as EquirectangularReflectionMapping,a as DRACOLoader,G as GLTFLoader,W as WebGLRenderer,s as sRGBEncoding,O as OrbitControls}from"./vendor.dbdecc97.js";import{P as Projects}from"./json.74c5c53a.js";var phone=!1,stop=!1;$(document).ready(function(){var n,r;$(window).width(),$(window).height();var e,o;$(document).mousemove(function(t){n=t.pageX,r=t.pageY,e=4*n/570+40,o=4*r/570+50,$(".title").css({"background-position":e+"%"+o+"%"})})});/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(console.log("PHONE !!!!"),phone=!0,document.getElementById("projects").style.width="50%",document.getElementById("DocSize").remove(),document.getElementsByClassName("title")[0].style.fontSize="4em",document.getElementsByClassName("shadow")[0].style.fontSize="4em",document.getElementsByClassName("shadow")[0].style.left="2px");document.body.onscroll=function(){Scrolling()};var HoldingDiv=document.getElementById("_3DMain");window.addEventListener("load",function(){});let camera,scene,renderer;const EnvTextures=["industrial_sunset_02_1k.hdr","kiara_2_sunrise_1k.hdr","kloofendal_38d_partly_cloudy_1k.hdr","royal_esplanade_1k.hdr","the_sky_is_on_fire_1k.hdr","shanghai_bund_1k.hdr","neon_photostudio_1k.hdr","winter_evening_1k.hdr","cloudy_cliffside_road_1k.hdr","urban_alley_01_1k.hdr"];var curEnv=3,robot,rotaterobot=!1,scrollPosition=0;init();function init(){camera=new PerspectiveCamera(45,window.innerWidth/window.innerHeight,.25,40),camera.position.set(1.8,.6,2.7),scene=new Scene;var n=new AmbientLight(7111496);n.intensity=-0,scene.add(n);const r=new DirectionalLight(7343196,0);scene.add(r),new RGBELoader().setPath("Models/EnviormentTexture/").load(EnvTextures[curEnv],function(o){o.mapping=EquirectangularReflectionMapping,scene.background=null,scene.environment=o;const t=new DRACOLoader;t.setDecoderConfig({type:"js"}),t.setDecoderPath("https://www.gstatic.com/draco/v1/decoders/");const d=new GLTFLoader().setPath("/Models/FilmRobot/");d.setDRACOLoader(t),d.load("FilmRobot.glb",function(s){robot=s.scene,robot.translateX(5),robot.translateZ(5),scene.add(robot),render(),document.getElementById("loading").style.visibility="hidden",document.getElementsByClassName("title")[0].style.left="0%",document.getElementsByClassName("shadow")[0].style.left="10px"})}),renderer=new WebGLRenderer({antialias:!1,powerPreference:"low-power",alpha:!1}),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),renderer.setClearColor(0,0),renderer.outputEncoding=sRGBEncoding,HoldingDiv.appendChild(renderer.domElement);const e=new OrbitControls(camera,renderer.domElement);e.minDistance=15,e.maxDistance=30,e.target.set(0,0,-.2),e.enablePan=!1,e.autoRotate=!1,e.enableZoom=!1,e.enableRotate=!1,e.update(),window.addEventListener("resize",onWindowResize)}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight),render(),phone&&requestAnimationFrame(render)}function render(){!phone&&!stop&&requestAnimationFrame(render),renderer.render(scene,camera),robot&&rotaterobot&&(robot.rotation.y+=.001)}render();function Scrolling(){scrollPosition=document.documentElement.scrollTop,scrollPosition<700&&Anim0(),scrollPosition>700&&Anim1()}function Anim0(){!phone&&!stop?(robot.position.x=5,robot.position.y=0,robot.position.z=5,rotaterobot=!1,robot.rotation.y=scrollPosition/100,document.getElementById("projects").style.visibility="hidden",document.getElementById("down").style.bottom="0",document.getElementById("socials").style.position="relative",document.getElementById("socials").style.width="75%"):(document.getElementById("down").style.bottom="0",document.getElementById("socials").style.position="relative",document.getElementById("socials").style.width="75%")}function Anim1(){!phone&&!stop?(rotaterobot=!0,robot.position.z=-2,document.getElementById("down").style.bottom="-100%",document.getElementById("projects").style.visibility="visible",document.getElementById("socials").style.position="fixed",document.getElementById("socials").style.width="25%"):(document.getElementById("down").style.bottom="-100%",document.getElementById("socials").style.position="fixed",document.getElementById("socials").style.width="100%")}var articles=document.getElementsByClassName("PreviewButton");for(var i=0;i<articles.length;i++)articles[i].addEventListener("click",function(){test(this.id),stop=!0});console.log(Projects);function test(id){var web=eval("Projects."+String(id)+".web");console.log(eval("Projects."+String(id)+".web"));var iframe=document.createElement("iframe");iframe.src="ShowCases/"+web+"?"+String(id),iframe.id="ShowCase",document.body.appendChild(iframe);var div=document.createElement("div");div.id="topbar";var button=document.createElement("button"),buttontext=document.createTextNode("Back");button.appendChild(buttontext),div.appendChild(button),document.body.appendChild(div),button.addEventListener("click",function(){document.getElementById("ShowCase").remove(),document.getElementById("topbar").remove(),stop=!1,render()})}
